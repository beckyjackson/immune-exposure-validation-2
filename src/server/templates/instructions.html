{% extends "base.html" %}
{% block content %}
<h1 class="mt-3">Immune Exposure Model Instructions</h1>

<p class="lead">
  Please follow these instructions to fill out the immune exposure template.
</p>

<h2 id="required-columns">Required Columns</h2>

<p>
  These four columns are always required for every row:
  <ul>
    <li>Subject ID</li>
    <li>Event Type</li>
    <li>Start Time</li>
    <li>End Time</li>
  </ul>
  Given a certain event type,
  other columns may be required, optional, or excluded.
  If a column is required, it may be restricted to a subset of the terminology.
  If a cell of this table is empty, then the column is excluded,
  and any value will result in an validation error.
</p>

{% include "schema.html" %}


<h2 id="subject-id">1. Subject ID</h2>

<p>
  The Subject ID is your own identifier for a single subject.
  Any non-blank value is allowed.
  This column is used to link multiple rows about the same subject.
</p>

<h2 id="event-type">2. Event Type</h2>

<p>
  See the table above for the allowed event types.
  The event type column is required for every row.
  Based on the event type, other columns may be required, optional, or excluded.
  The event type can also restrict the allowed values for other columns.
  This column should be filled with the primary label of the term.
  If a synonym is used, the validator will recommend replacing it with the primary label.
</p>

<h2 id="start-time">3. Start Time</h2>

<p>
  The start time and end time are always required.
  They can be provided as ISO8601 standard calendar dates or datetimes,
  or they can be provided as study days.
  Examples:
</p>

<ul>
  <li>2020-12-16</li>
  <li>2020-12-16 12:00 UTC</li>
  <li>day 12</li>
  <li>day 12 12:00 UTC</li>
</ul>

<h2 if="end-time">4. End Time</h2>

<p>
  The end time is always required,
  and has the same format as the start time.
</p>

<h2 id="exposure-material-type">5. Exposure Material Type</h2>

<p>
  When the event type indicates that the subject has been exposed to some material,
  then this column is required.
  It is usually restricted to a relevant type,
  such as a vaccine, infectious agent, translant material, or allergen.
  When this column is required, it should be filled with the primary label of the term.
  If a synonym is used, the validator will recommend replacing it with the primary label.
</p>

<h2 id="disease-type">6. Disease Type</h2>

<p>
  For disease types we use the
  <a href="https://disease-ontology.org">Disease Ontology</a>.
  When this column is required, it should be filled with the primary label of the term.
  If a synonym is used, the validator will recommend replacing it with the primary label.
</p>

<p>
  The diseas type should correspond to the exposure material type.
  For instance, if the disease is
  <a href="/terminology/DOID:12206">dengue hemorrhagic fever</a>
  then the exposure material type should be
  <a href="/terminology/NCBITaxon:12637">Dengue virus</a>.
</p>

<h2 id="disease-stage">7. Disease Stage</h2>

<p>
  When a diease type is specified, the disease stage must also be specified.
  Choose one of:
</p>

<ul>
  <li><a href="/terminology/OGMS:0000094">Acute/Recent onset</a></li>
  <li><a href="/terminology/OGMS:000094">Chronic</a></li>
  <li><a href="/terminology/ONTIE:0003544">Post</a></li>
  <li><a href="/terminology/ONTIE:0003545">Unknown</a></li>
</ul>

<h2 id="specimen-type">8. Specimen Type</h2>

<p>
  For specimen types we use the
  <a href="http://obi-ontology.org">Ontology for Biomedical Investigations</a>.
  When this column is required, it should be filled with the primary label of the term.
  If a synonym is used, the validator will recommend replacing it with the primary label.
</p>

<h2 id="specimen-id">9. Specimen ID</h2>

<p>
  When the specimen type is required, the specimen ID is also required.
  Like the Subject ID, the Specimen ID is your own identifier for a single subject.
  Any non-blank value is allowed.
</p>
{% endblock %}
